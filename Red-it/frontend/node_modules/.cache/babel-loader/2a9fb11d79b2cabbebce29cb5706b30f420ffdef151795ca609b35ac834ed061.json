{"ast":null,"code":"import React,{useState,useEffect}from\"react\";// import loginSignup from \"./loginSignup\";\nimport LoginSignup from'./loginSignup';import\"./summary.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Summary(){const[fontSize,setFontSize]=useState(14);const[summary,setSummary]=useState(\"Loading...\");const[currentUrl,setCurrentUrl]=useState(\"\");const[language,setLanguage]=useState(\"Change Language\");const handleLanguageChange=newLanguage=>{return()=>{setLanguage(newLanguage);setSummary(\"Loading...\");};};function fetchCurrentTabUrl(){return new Promise((resolve,reject)=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{if(chrome.runtime.lastError){reject(new Error(chrome.runtime.lastError.message));}else if(tabs.length===0){reject(new Error(\"No active tab found\"));}else{console.log(tabs[0].url);resolve(tabs[0].url);}});});}useEffect(()=>{fetchCurrentTabUrl().then(url=>{setCurrentUrl(url);fetch(\"http://127.0.0.1:8000/summary/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({language:language===\"Change Language\"?\"english\":language.toLowerCase(),url:url})}).then(response=>{if(!response.ok){throw new Error(\"Network response was not ok\");}return response.json();}).then(data=>{setSummary(data.summary);}).catch(error=>{console.error(\"Error fetching summary: \"+error);});}).catch(error=>{console.error(\"Error fetching current tab URL: \"+error);});},[language]);const increaseFontSize=()=>{setFontSize(prevFontSize=>prevFontSize+1);};const decreaseFontSize=()=>{setFontSize(prevFontSize=>prevFontSize>1?prevFontSize-1:prevFontSize);};return/*#__PURE__*/_jsx(\"div\",{class:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bdy\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"dropbtn\",children:language}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"English\"),children:\"English\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Urdu\"),children:\"Urdu\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Arabic\"),children:\"Arabic\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Hindi\"),children:\"Hindi\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Chinese\"),children:\"Chinese\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Frech\"),children:\"Frech\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"German\"),children:\"German\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Italian\"),children:\"Italian\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Japanese\"),children:\"Japanese\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Korean\"),children:\"Korean\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Russian\"),children:\"Russian\"}),/*#__PURE__*/_jsx(\"a\",{onClick:handleLanguageChange(\"Spanish\"),children:\"Spanish\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"SUMMARY\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-adjusters\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"font-decrease\",onClick:decreaseFontSize,children:\"A-\"}),/*#__PURE__*/_jsx(\"button\",{className:\"font-increase\",onClick:increaseFontSize,children:\"A+\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-container\",children:/*#__PURE__*/_jsx(\"p\",{className:\"summary-text\",style:{fontSize:\"\".concat(fontSize,\"px\")},children:summary})})]})]})});}export default Summary;","map":{"version":3,"names":["React","useState","useEffect","LoginSignup","jsx","_jsx","jsxs","_jsxs","Summary","fontSize","setFontSize","summary","setSummary","currentUrl","setCurrentUrl","language","setLanguage","handleLanguageChange","newLanguage","fetchCurrentTabUrl","Promise","resolve","reject","chrome","tabs","query","active","currentWindow","runtime","lastError","Error","message","length","console","log","url","then","fetch","method","headers","body","JSON","stringify","toLowerCase","response","ok","json","data","catch","error","increaseFontSize","prevFontSize","decreaseFontSize","class","children","className","onClick","style","concat"],"sources":["C:/Users/Hp/Red-it/Red-it/frontend/src/components/summary.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import loginSignup from \"./loginSignup\";\r\nimport LoginSignup from './loginSignup';\r\n\r\nimport \"./summary.css\";\r\n\r\nfunction Summary() {\r\n  const [fontSize, setFontSize] = useState(14);\r\n  const [summary, setSummary] = useState(\"Loading...\");\r\n  const [currentUrl, setCurrentUrl] = useState(\"\");\r\n  const [language, setLanguage] = useState(\"Change Language\");\r\n\r\n  const handleLanguageChange = (newLanguage) => {\r\n    return () => {\r\n      setLanguage(newLanguage);\r\n      setSummary(\"Loading...\");\r\n    };\r\n  };\r\n\r\n  function fetchCurrentTabUrl() {\r\n    return new Promise((resolve, reject) => {\r\n      chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n        if (chrome.runtime.lastError) {\r\n          reject(new Error(chrome.runtime.lastError.message));\r\n        } else if (tabs.length === 0) {\r\n          reject(new Error(\"No active tab found\"));\r\n        } else {\r\n          console.log(tabs[0].url);\r\n          resolve(tabs[0].url);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchCurrentTabUrl()\r\n      .then((url) => {\r\n        setCurrentUrl(url);\r\n        fetch(\"http://127.0.0.1:8000/summary/\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            language: language === \"Change Language\" ? \"english\" : language.toLowerCase(),\r\n            url: url,\r\n          }),\r\n        })\r\n          .then((response) => {\r\n            if (!response.ok) {\r\n              throw new Error(\"Network response was not ok\");\r\n            }\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            setSummary(data.summary);\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error fetching summary: \" + error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching current tab URL: \" + error);\r\n      });\r\n  }, [language]);\r\n\r\n  const increaseFontSize = () => {\r\n    setFontSize((prevFontSize) => prevFontSize + 1);\r\n  };\r\n\r\n  const decreaseFontSize = () => {\r\n    setFontSize((prevFontSize) =>\r\n      prevFontSize > 1 ? prevFontSize - 1 : prevFontSize\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div class=\"main\">\r\n      <div className=\"bdy\">\r\n      <div class=\"dropdown\">\r\n        <button class=\"dropbtn\">{language}</button>\r\n        <div class=\"dropdown-content\">\r\n          <a onClick={handleLanguageChange(\"English\")}>English</a>\r\n          <a onClick={handleLanguageChange(\"Urdu\")}>Urdu</a>\r\n          <a onClick={handleLanguageChange(\"Arabic\")}>Arabic</a>\r\n          <a onClick={handleLanguageChange(\"Hindi\")}>Hindi</a>\r\n          <a onClick={handleLanguageChange(\"Chinese\")}>Chinese</a>\r\n          <a onClick={handleLanguageChange(\"Frech\")}>Frech</a>\r\n          <a onClick={handleLanguageChange(\"German\")}>German</a>\r\n          <a onClick={handleLanguageChange(\"Italian\")}>Italian</a>\r\n          <a onClick={handleLanguageChange(\"Japanese\")}>Japanese</a>\r\n          <a onClick={handleLanguageChange(\"Korean\")}>Korean</a>\r\n          <a onClick={handleLanguageChange(\"Russian\")}>Russian</a>\r\n          <a onClick={handleLanguageChange(\"Spanish\")}>Spanish</a>\r\n        </div>\r\n      </div>\r\n        <div className=\"content-box\">\r\n          <div className=\"header\">\r\n            <span className=\"title\">SUMMARY</span>\r\n            <span className=\"font-adjusters\">\r\n              <button className=\"font-decrease\" onClick={decreaseFontSize}>\r\n                A-\r\n              </button>\r\n              <button className=\"font-increase\" onClick={increaseFontSize}>\r\n                A+\r\n              </button>\r\n            </span>\r\n          </div>\r\n          <div className=\"summary-container\">\r\n            <p className=\"summary-text\" style={{ fontSize: `${fontSize}px` }}>\r\n              {summary}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Summary;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}